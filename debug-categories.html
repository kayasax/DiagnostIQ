<!DOCTYPE html>
<html>
<head>
    <title>Debug Categories</title>
</head>
<body>
    <h1>DiagnosticIQ Category Debug</h1>
    <div id="debug-output"></div>

    <script>
        // Test the data loading
        setTimeout(async () => {
            try {
                // Load index.json directly
                const response = await fetch('data/scenarios/index.json');
                const index = await response.json();

                let output = '<h2>Index.json Categories:</h2><ul>';
                if (index.categories) {
                    index.categories.forEach(cat => {
                        output += `<li><strong>${cat.name}</strong> (${cat.displayName}): ${cat.scenarios.length} scenarios</li>`;
                        cat.scenarios.forEach(scenario => {
                            output += `<ul><li>${scenario.title} (${scenario.file})</li></ul>`;
                        });
                    });
                }
                output += '</ul>';

                // Try to load a general scenario directly
                output += '<h2>Direct General Scenario Load:</h2>';
                try {
                    const generalResponse = await fetch('data/scenarios/general/m365-power-platform-c532cc70.json');
                    const generalData = await generalResponse.json();
                    output += `<p>✅ Successfully loaded: ${generalData.title}</p>`;
                    output += `<p>Category: ${generalData.category}</p>`;
                    output += `<p>Description: ${generalData.description}</p>`;
                } catch (error) {
                    output += `<p>❌ Failed to load general scenario: ${error.message}</p>`;
                }

                document.getElementById('debug-output').innerHTML = output;

            } catch (error) {
                document.getElementById('debug-output').innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }, 1000);
    </script>
</body>
</html>
